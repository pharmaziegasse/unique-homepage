{"version":3,"sources":["components/organisms/SectionContents/reviews.jsx"],"names":["GET_IMAGE","gql","DeplayedQuery","props","getActiveItem","id","onImgFetched","img","setState","renderImg","image_id","key","client","className","onClick","a","query","variables","this","token","undefined","data","image","bind","state","width","height","src","urlLink","alt","showHead","dangerouslySetInnerHTML","__html","ReactHtmlParser","renderToString","value","heading","data-ride","data-interval","role","users","map","item","i","quote","name","info","href","data-slide","aria-hidden","Component"],"mappings":"0hBAeA,IAAMA,EAAYC,YAAH,KAiBTC,E,kDACD,WAAYC,GAAO,IAAD,8BACf,cAAMA,IAMVC,cAAgB,SAACC,GACb,OAAU,IAAPA,EACQ,uBAEA,iBAXI,EAenBC,aAAe,SAACC,EAAKF,GACjB,EAAKG,SAAS,CAAC,CAACH,GAAKE,KAhBN,EAmBnBE,UAAY,SAACC,EAAUC,GACnB,OACI,kBAAC,IAAD,MACK,SAAAC,GAAM,OACH,yBAAKC,UAAU,gBACX,yBAAKA,UAAU,6BAA6BC,QACxC,cAAAC,EAAA,oCAAAA,EAAA,sEACyBH,EAAOI,MAAM,CAC9BA,MAAOhB,EACPiB,UAAW,CAAE,GAAMP,EAAU,MAASQ,KAAKf,MAAMgB,SAHzD,qBAKgBC,KAJNC,EADV,EACUA,OAKFH,KAAKZ,aAAae,EAAKC,MAAOX,GANtC,gDAQEY,KARF,iBAUC,EAAKC,MAAMb,IAAQ,yBAAKc,MAAM,QAAQC,OAAO,QAAQb,UAAU,wBAAwBc,IAAK,4BAA4B,EAAKH,MAAMb,GAAKiB,QAASC,IAAI,iBAjC1K,EAAKL,MAAQ,GAFE,E,qDA2CT,IAAD,OACL,OACI,yBAAKX,UAAU,cACc,IAAxBK,KAAKf,MAAM2B,UACR,wBAAIjB,UAAU,sCAAsCkB,wBAAyB,CAACC,OAAQC,IAAgBC,yBAAe,kBAAC,IAAD,CAAMC,MAAQjB,KAAKf,MAAMiC,eAElJ,yBAAKvB,UAAU,wBACX,yBAAKR,GAAG,oBAAoBQ,UAAU,kEAAkEwB,YAAU,WAAWC,gBAAc,SAC3I,yBAAKzB,UAAU,iBAAiB0B,KAAK,WACpCrB,KAAKf,MAAMqC,MAAMC,KAAI,SAACC,EAAMC,GACzB,OACA,yBAAKhC,IAAKgC,EAAG9B,UAAW,EAAKT,cAAcuC,IACvC,yBAAK9B,UAAU,eACX,yBAAKA,UAAU,uBACV,EAAKJ,UAAUiC,EAAKnC,IAAKoC,IAE9B,2BACI,0BAAMZ,wBAAyB,CAACC,OAAQC,IAAgBC,yBAAe,kBAAC,IAAD,CAAMC,MAAQO,EAAKE,cAE9F,wBAAI/B,UAAU,oBAAoBoB,IAAgBC,yBAAe,kBAAC,IAAD,CAAMC,MAAQO,EAAKG,UACpF,wBAAIhC,UAAU,oCAAoCoB,IAAgBC,yBAAe,kBAAC,IAAD,CAAMC,MAAQO,EAAKI,gBAMhH,uBAAGjC,UAAU,8CAA8CkC,KAAK,qBAAqBR,KAAK,SACtFS,aAAW,QACX,0BAAMnC,UAAU,YAAYoC,cAAY,SACxC,0BAAMpC,UAAU,WAAhB,aAEJ,uBAAGA,UAAU,+CAA+CkC,KAAK,qBAAqBR,KAAK,SACvFS,aAAW,QACX,0BAAMnC,UAAU,YAAYoC,cAAY,SACxC,0BAAMpC,UAAU,WAAhB,gB,GA9EIqC,aAuFbhD","file":"static/js/27.b9536839.chunk.js","sourcesContent":["//** Standard Frameworks */\r\nimport React, { Component } from 'react';\r\n\r\n//** Additional Frameworks */\r\n//** Apollo */\r\nimport { ApolloConsumer } from 'react-apollo';\r\nimport { gql } from \"apollo-boost\";\r\n\r\n//** Helpers */\r\n//** Personalization */\r\nimport Text from \"../../helper/Text\";\r\nimport { renderToString } from 'react-dom/server';\r\nimport ReactHtmlParser from 'react-html-parser'; \r\n\r\n//** Mutation: Get Image */\r\nconst GET_IMAGE = gql`\r\n    query img(\r\n            $token: String!\r\n            $id: Int!\r\n        ){\r\n        image(\r\n            token: $token\r\n            id: $id\r\n        ){\r\n            urlLink\r\n        }\r\n    }\r\n`;\r\n\r\n/**\r\n * Section: Reviews\r\n */\r\nclass DeplayedQuery extends Component {\r\n     constructor(props){\r\n        super(props);\r\n        this.state = {\r\n           \r\n        }\r\n    }\r\n\r\n    getActiveItem = (id) => {\r\n        if(id === 0){\r\n            return \"carousel-item active\";\r\n        }else{\r\n            return \"carousel-item\";\r\n        }\r\n    }\r\n\r\n    onImgFetched = (img, id) => {\r\n        this.setState({[id]: img});\r\n    }\r\n\r\n    renderImg = (image_id, key) => {\r\n        return(\r\n            <ApolloConsumer>\r\n                {client => (\r\n                    <div className=\"imgcontainer\">\r\n                        <div className=\"py-2 img-profile-container\" onClick={\r\n                            async function(){\r\n                                let { data } = await client.query({\r\n                                    query: GET_IMAGE,\r\n                                    variables: { \"id\": image_id, \"token\": this.props.token }\r\n                                });\r\n                                if(data !== undefined){\r\n                                    this.onImgFetched(data.image, key)\r\n                                }\r\n                            }.bind(this)\r\n                        }>\r\n                            {this.state[key] && <img width=\"160px\" height=\"160px\" className=\"img-fluid img-profile\" src={\"https://pharmaziegasse.at\"+this.state[key].urlLink} alt=\"Profil\" />}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </ApolloConsumer>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                {this.props.showHead === true &&\r\n                    <h2 className=\"h1-responsive font-weight-bold mb-5\" dangerouslySetInnerHTML={{__html: ReactHtmlParser(renderToString(<Text value={ this.props.heading }/>))}}></h2>\r\n                }\r\n                <div className=\"wrapper-carousel-fix\">\r\n                    <div id=\"customer-carousel\" className=\"carousel no-flex testimonial-carousel slide py-5 dark-grey-text\" data-ride=\"carousel\" data-interval=\"20000\">\r\n                    <div className=\"carousel-inner\" role=\"listbox\">\r\n                    {this.props.users.map((item, i) => {\r\n                        return(\r\n                        <div key={i} className={this.getActiveItem(i)}>\r\n                            <div className=\"testimonial\">\r\n                                <div className=\"avatar mx-auto mb-4\">\r\n                                    {this.renderImg(item.img, i)}\r\n                                </div>\r\n                                <p>\r\n                                    <span dangerouslySetInnerHTML={{__html: ReactHtmlParser(renderToString(<Text value={ item.quote }/>))}}></span>\r\n                                </p>\r\n                                <h4 className=\"font-weight-bold\">{ReactHtmlParser(renderToString(<Text value={ item.name }/>))}</h4>\r\n                                <h6 className=\"font-weight-bold my-3 text-muted\">{ReactHtmlParser(renderToString(<Text value={ item.info }/>))}</h6>\r\n                            </div>\r\n                        </div>\r\n                        )\r\n                    })}\r\n                    </div>\r\n                    <a className=\"carousel-control-prev left carousel-control\" href=\"#customer-carousel\" role=\"button\"\r\n                        data-slide=\"prev\">\r\n                        <span className=\"icon-prev\" aria-hidden=\"true\"></span>\r\n                        <span className=\"sr-only\">Previous</span>\r\n                    </a>\r\n                    <a className=\"carousel-control-next right carousel-control\" href=\"#customer-carousel\" role=\"button\"\r\n                        data-slide=\"next\">\r\n                        <span className=\"icon-next\" aria-hidden=\"true\"></span>\r\n                        <span className=\"sr-only\">Next</span>\r\n                    </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DeplayedQuery\r\n"],"sourceRoot":""}